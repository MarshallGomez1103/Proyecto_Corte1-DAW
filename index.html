<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Catálogo De Servicios</title>
    <link rel="stylesheet" href="css/style_index.css">
    <!-- Incluimos el script de JavaScript que cargará los productos y gestionará el carrito (versión 3 para evitar caché) -->
    <script src="js/js_index.js?v=3" defer></script>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js" defer></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js" defer></script>

</head>
<body>
<!-- Banner con enlace a la página principal -->
<a href="index.html"><img class="banner" src="assets/images/banner.png"></a>
<header>
    <h1 class="titulos">Catálogo De Servicios</h1>

    <!-- Icono del carrito con contador; al hacer clic se despliega el resumen de compra -->
    <div class="container-icon carrito_flotante">
        <ion-icon name="cart-outline" class="icon-cart"></ion-icon>
        <div class="count-products">
            <span id="contador-productos">0</span>
        </div>
    </div>

    <!-- Contenedor del carrito flotante que se mostrará/ocultará al hacer clic en el icono -->
    <div class="container-cart-products hidden-cart">
        <div class="row-product hidden"></div>
        <div class="cart-total hidden">
            <h3>Total:</h3>
            <span class="total-pagar"></span>
        </div>
        <a href="cart.html" class="btn-pagar hidden">Pagar</a>
        <p class="cart-empty">El carrito está vacío</p>
    </div>
</header>

<p class="description">
    En nuestro centro ofrecemos un espacio único de bienestar y cuidado a través de la Hidroterapia Ondas, una experiencia en agua caliente guiada por fisioterapeutas especializadas. Cada sesión dura 1 hora y es 100% personalizada, pensada para quienes buscan mejorar su movilidad, aliviar tensiones musculares y disfrutar de un momento de relajación profunda. Nuestro enfoque combina el poder del agua con el acompañamiento profesional, creando un ambiente seguro, privado y diseñado para que te sientas en confianza. Más que una terapia, es una experiencia que conecta cuerpo y mente, y que diferencia a nuestro centro como un lugar donde la salud y el bienestar se viven de forma cercana y humana.
</p>

<h1 class="titulos">Categoria Servicios</h1>

<!-- Contenedor vacío que se llenará dinámicamente con los servicios obtenidos de Google Sheets -->
<div class="container_citas" id="container_citas"></div>

<div class="mapa-cita">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1326.9661181620406!2d-74.06980365557656!3d4.6993942480891135!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9bdb8ec60b39%3A0xb1145d6400311188!2sHidroterapia%20Ondas!5e0!3m2!1sen!2sco!4v1755473600800!5m2!1sen!2sco"
            width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"></iframe>
</div>

<footer>
    <div class="footer-container">
        <img src="assets/images/footer.png" alt="Footer Image" class="footer-image">

        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1326.9661181620406!2d-74.06980365557656!3d4.6993942480891135!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8e3f9bdb8ec60b39%3A0xb1145d6400311188!2sHidroterapia%20Ondas!5e0!3m2!1sen!2sco!4v1755473600800!5m2!1sen!2sco"
                width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                referrerpolicy="no-referrer-when-downgrade" class="mapa-footer"></iframe>

        <div class="footer-overlay">
    
            <a href="desarrolladores.html" class="footer-text">Conoce al equipo de Desarrolladores</a>
            <p class="footer-text">Síguenos en Redes Sociales</p>
            <div class="container-icon">
                <a href="https://www.instagram.com/hidroterapia_ondas/" target="_blank" class="insta">
                    <ion-icon name="logo-instagram" class="icon insta"></ion-icon>
                </a>
                <a href="https://api.whatsapp.com/send?phone=573178933101&text=Hola%2C%20estoy%20interesado%2Fa%20en%20el%20servicio%20de%20Hidroterapia%20Ondas%F0%9F%92%A7%20%C2%BFPodr%C3%ADan%20brindarme%20m%C3%A1s%20detalles%2C%20por%20favor%3F"
                   target="_blank" class="whats">
                    <ion-icon name="logo-whatsapp" class="icon whats"></ion-icon>
                </a>
                
            </div>
        </div>
    </div>
</footer>

<!-- ====== CONTROLES DE AUTENTICACIÓN ====== -->
<div id="authBar" style="display:flex;gap:12px;align-items:center;margin-top:16px;">
    <button id="btnLogin" class="btn-login">Iniciar sesión</button>
    <button id="btnOpenRegister" class="btn-secondary">Crear cuenta</button>
    <button id="btnLogout" class="btn-secondary hidden">Cerrar sesión</button>
    <span id="whoami" class="hidden">Sesión: <strong id="whoamiName"></strong></span>
</div>

<!-- Probar ruta protegida -->
<div style="margin-top:12px;">
    <button id="btnProbar" class="btn-primary">Probar conexión protegida</button>
    <ul id="userList" style="margin-top:8px;"></ul>
</div>


<!-- ====== ÁREA SOLO ADMIN ====== -->
<div id="adminPanel" class="adminOnly hidden" style="margin-top:20px;">
    <a href="pedidos.html" class="btn-primary">Ver Pedidos (ADMIN)</a>
</div>


<!-- ====== MODAL DE LOGIN ====== -->
<div id="loginModal" class="modal hidden">
    <div class="modal-content">
        <h2>Iniciar sesión</h2>
        <form id="loginForm">
            <label for="username">Usuario:</label>
            <input type="text" id="username" autocomplete="username" required>

            <label for="password">Contraseña:</label>
            <input type="password" id="password" autocomplete="current-password" required>

            <div class="modal-actions">
                <button type="submit" class="btn-primary">Ingresar</button>
                <button type="button" id="btnClose" class="btn-secondary">Cancelar</button>
            </div>
        </form>
    </div>
</div>


<!-- ====== MODAL DE REGISTRO ====== -->
<div id="registerModal" class="modal hidden">
    <div class="modal-content">
        <h2>Registrarse</h2>
        <form id="registerForm">
            <label for="regUsername">Usuario:</label>
            <input type="text" id="regUsername" required>

            <label for="regPassword">Contraseña:</label>
            <input type="password" id="regPassword" required>

            <label for="regRole">Rol:</label>
            <select id="regRole">
                <option value="USER">USER</option>
                <option value="ADMIN">ADMIN</option>
            </select>

            <div class="modal-actions">
                <button type="submit" class="btn-primary">Crear</button>
                <button type="button" id="btnCloseRegister" class="btn-secondary">Cancelar</button>
            </div>
        </form>


    </div>
</div>


<!-- ====== ESTILOS Y SCRIPT ====== -->
<link rel="stylesheet" href="css/login.css">

<script src="js/login.js?v=7" defer></script>


</body>
</html>
